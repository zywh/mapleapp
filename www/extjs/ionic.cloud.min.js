!function t(e,i,n){function o(s,a){if(!i[s]){if(!e[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(r)return r(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var p=i[s]={exports:{}};e[s][0].call(p.exports,function(t){var i=e[s][1][t];return o(i?i:t)},p,p.exports,t,e,i,n)}return i[s].exports}for(var r="function"==typeof require&&require,s=0;s<n.length;s++)o(n[s]);return o}({1:[function(t,e,i){"use strict";var n=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},o=t("./errors"),r=t("./promise"),s=function(){function t(t,e){this.label=e,this.storage=t.storage}return t.prototype.get=function(){return this.storage.get(this.label)},t.prototype.store=function(t){this.storage.set(this.label,t)},t.prototype["delete"]=function(){this.storage["delete"](this.label)},t}();i.AuthTokenContext=s;var a=function(){function t(t,e){this.label=e,this.storage=t.storage,this.tempStorage=t.tempStorage}return t.prototype.get=function(){var t=this.storage.get(this.label),e=this.tempStorage.get(this.label),i=e||t;return i},t.prototype.store=function(t,e){void 0===e&&(e={permanent:!0}),e.permanent?this.storage.set(this.label,t):this.tempStorage.set(this.label,t)},t.prototype["delete"]=function(){this.storage["delete"](this.label),this.tempStorage["delete"](this.label)},t}();i.CombinedAuthTokenContext=a;var u=function(){function t(t,e){void 0===e&&(e={}),this.options=e,this.config=t.config,this.emitter=t.emitter,this.authModules=t.authModules,this.tokenContext=t.tokenContext,this.userService=t.userService,this.storage=t.storage}return Object.defineProperty(t.prototype,"passwordResetUrl",{get:function(){return this.config.getURL("web")+"/password/reset/"+this.config.get("app_id")},enumerable:!0,configurable:!0}),t.prototype.isAuthenticated=function(){var t=this.tokenContext.get();return!!t},t.prototype.signup=function(t){return this.authModules.basic.signup(t)},t.prototype.login=function(t,e,i){var n=this;void 0===i&&(i={}),"undefined"==typeof i.remember&&(i.remember=!0),"undefined"==typeof i.inAppBrowserOptions&&(i.inAppBrowserOptions={}),"undefined"==typeof i.inAppBrowserOptions.location&&(i.inAppBrowserOptions.location=!1),"undefined"==typeof i.inAppBrowserOptions.clearcache&&(i.inAppBrowserOptions.clearcache=!0),"undefined"==typeof i.inAppBrowserOptions.clearsessioncache&&(i.inAppBrowserOptions.clearsessioncache=!0);var o=this.authModules[t];if(!o)throw new Error("Authentication class is invalid or missing:"+o);return o.authenticate(e,i).then(function(t){return n.storeToken(i,t.token),n.userService.load().then(function(){var e=n.userService.current();return e.store(),t})})},t.prototype.logout=function(){this.tokenContext["delete"]();var t=this.userService.current();t.unstore(),t.clear()},t.prototype.requestPasswordReset=function(t){return this.storage.set("auth_password_reset_email",t),this.authModules.basic.requestPasswordReset(t)},t.prototype.confirmPasswordReset=function(t,e){var i=this.storage.get("auth_password_reset_email");return this.authModules.basic.confirmPasswordReset(i,t,e)},t.prototype.getToken=function(){return this.tokenContext.get()},t.prototype.storeToken=function(t,e){void 0===t&&(t={remember:!0});var i=this.authToken;this.authToken=e,this.tokenContext.store(this.authToken,{permanent:t.remember}),this.emitter.emit("auth:token-changed",{old:i,"new":this.authToken})},t.getDetailedErrorFromResponse=function(t){var e=[],i=[];try{i=t.body.error.details}catch(n){}for(var r=0;r<i.length;r++){var s=i[r];s.error_type&&e.push(s.error_type+"_"+s.parameter)}return new o.DetailedError("Error creating user",e)},t}();i.Auth=u;var c=function(){function t(t){this.config=t.config,this.client=t.client}return t.prototype.parseInAppBrowserOptions=function(t){if(!t)return"";var e=[];for(var i in t){var n=void 0;n="boolean"==typeof t[i]?t[i]?"yes":"no":t[i],e.push(i+"="+n)}return e.join(",")},t.prototype.inAppBrowserFlow=function(t,e,i){var n=this;void 0===e&&(e={});var o=new r.DeferredPromise;return window&&window.cordova&&window.cordova.InAppBrowser?this.client.post("/auth/login/"+t).send({app_id:this.config.get("app_id"),callback:window.location.href,data:e}).end(function(t,e){if(t)o.reject(t);else{var r=window.cordova.InAppBrowser.open(e.body.data.url,"_blank",n.parseInAppBrowserOptions(i.inAppBrowserOptions)),s=function(){o.reject(new Error("InAppBrowser exit"))},a=function(){o.reject(new Error("InAppBrowser loaderror"))},u=function(t){if("http://auth.ionic.io"===t.url.slice(0,20)){for(var e=t.url.split("#")[0].split("?")[1],i=e.split("&"),n={},u=0;u<i.length;u++){var c=i[u].split("=");n[c[0]]=c[1]}r.removeEventListener("exit",s),r.removeEventListener("loaderror",a),r.close(),o.resolve({token:n.token,signup:Boolean(parseInt(n.signup,10))})}};r.addEventListener("exit",s),r.addEventListener("loaderror",a),r.addEventListener("loadstart",u)}}):o.reject(new Error("InAppBrowser plugin missing")),o.promise},t}();i.AuthType=c;var p=function(t){function e(){t.apply(this,arguments)}return n(e,t),e.prototype.authenticate=function(t,e){var i=new r.DeferredPromise;return t.email&&t.password?this.client.post("/auth/login").send({app_id:this.config.get("app_id"),email:t.email,password:t.password}).end(function(t,e){t?i.reject(t):i.resolve({token:e.body.data.token})}):i.reject(new Error("email and password are required for basic authentication")),i.promise},e.prototype.requestPasswordReset=function(t){var e=new r.DeferredPromise;return t?this.client.post("/users/password/reset").send({app_id:this.config.get("app_id"),email:t,flow:"app"}).end(function(t,i){t?e.reject(t):e.resolve()}):e.reject(new Error("Email is required for password reset request.")),e.promise},e.prototype.confirmPasswordReset=function(t,e,i){var n=new r.DeferredPromise;return e&&t&&i?this.client.post("/users/password").send({reset_token:e,new_password:i,email:t}).end(function(t,e){t?n.reject(t):n.resolve()}):n.reject(new Error("Code, new password, and email are required.")),n.promise},e.prototype.signup=function(t){var e=new r.DeferredPromise,i={app_id:this.config.get("app_id"),email:t.email,password:t.password};return t.username&&(i.username=t.username),t.image&&(i.image=t.image),t.name&&(i.name=t.name),t.custom&&(i.custom=t.custom),this.client.post("/users").send(i).end(function(t,i){t?e.reject(u.getDetailedErrorFromResponse(t.response)):e.resolve()}),e.promise},e}(c);i.BasicAuth=p;var h=function(t){function e(){t.apply(this,arguments)}return n(e,t),e.prototype.authenticate=function(t,e){return void 0===t&&(t={}),this.inAppBrowserFlow("custom",t,e)},e}(c);i.CustomAuth=h;var l=function(t){function e(){t.apply(this,arguments)}return n(e,t),e.prototype.authenticate=function(t,e){return void 0===t&&(t={}),this.inAppBrowserFlow("twitter",t,e)},e}(c);i.TwitterAuth=l;var d=function(t){function e(){t.apply(this,arguments)}return n(e,t),e.prototype.authenticate=function(t,e){return void 0===t&&(t={}),this.inAppBrowserFlow("facebook",t,e)},e}(c);i.FacebookAuth=d;var f=function(t){function e(){t.apply(this,arguments)}return n(e,t),e.prototype.authenticate=function(t,e){return void 0===t&&(t={}),this.inAppBrowserFlow("github",t,e)},e}(c);i.GithubAuth=f;var g=function(t){function e(){t.apply(this,arguments)}return n(e,t),e.prototype.authenticate=function(t,e){return void 0===t&&(t={}),this.inAppBrowserFlow("google",t,e)},e}(c);i.GoogleAuth=g;var y=function(t){function e(){t.apply(this,arguments)}return n(e,t),e.prototype.authenticate=function(t,e){return void 0===t&&(t={}),this.inAppBrowserFlow("instagram",t,e)},e}(c);i.InstagramAuth=y;var v=function(t){function e(){t.apply(this,arguments)}return n(e,t),e.prototype.authenticate=function(t,e){return void 0===t&&(t={}),this.inAppBrowserFlow("linkedin",t,e)},e}(c);i.LinkedInAuth=v},{"./errors":9,"./promise":14}],2:[function(t,e,i){"use strict";var n=t("superagent"),o=function(){function t(t,e,i){this.tokenContext=t,this.baseUrl=e,"undefined"==typeof i&&(i=n),this.req=i}return t.prototype.get=function(t){return this.supplement(this.req.get,t)},t.prototype.post=function(t){return this.supplement(this.req.post,t)},t.prototype.put=function(t){return this.supplement(this.req.put,t)},t.prototype.patch=function(t){return this.supplement(this.req.patch,t)},t.prototype["delete"]=function(t){return this.supplement(this.req["delete"],t)},t.prototype.request=function(t,e){return this.supplement(this.req.bind(this.req,t),e)},t.prototype.supplement=function(t,e){if("/"!==e.substring(0,1))throw Error("endpoint must start with leading slash");var i=t(this.baseUrl+e),n=this.tokenContext.get();return n&&i.set("Authorization","Bearer "+n),i},t}();i.Client=o},{superagent:22}],3:[function(t,e,i){"use strict";var n=function(){function t(){this.urls={api:"https://api.ionic.io",web:"https://web.ionic.io"}}return t.prototype.register=function(t){this.settings=t},t.prototype.get=function(t){if(this.settings&&this.settings.core)return this.settings.core[t]},t.prototype.getURL=function(t){var e=this.settings&&this.settings.core&&this.settings.core.urls||{};return e[t]?e[t]:this.urls[t]},t}();i.Config=n},{}],4:[function(t,e,i){"use strict";var n=function(){function t(t,e){void 0===e&&(e={}),this.options=e,this.app=t.appStatus,this.device=t.device,this.emitter=t.emitter,this.logger=t.logger,this.registerEventHandlers()}return t.prototype.bootstrap=function(){var t=this,e=["pause","resume"];document.addEventListener("deviceready",function(){for(var i=[],n=0;n<arguments.length;n++)i[n-0]=arguments[n];t.emitter.emit("cordova:deviceready",{args:i});for(var o=function(e){document.addEventListener(e,function(){for(var i=[],n=0;n<arguments.length;n++)i[n-0]=arguments[n];t.emitter.emit("cordova:"+e,{args:i})},!1)},r=0,s=e;r<s.length;r++){var a=s[r];o(a)}},!1)},t.prototype.registerEventHandlers=function(){var t=this;this.emitter.on("cordova:pause",function(){t.app.closed=!0}),this.emitter.on("cordova:resume",function(){t.app.closed=!1})},t}();i.Cordova=n},{}],5:[function(t,e,i){"use strict";var n=function(){function t(t){this._version="0.9.0",this.config=t.config,this.logger=t.logger,this.emitter=t.emitter,this.insights=t.insights}return t.prototype.init=function(){this.registerEventHandlers(),this.onResume()},Object.defineProperty(t.prototype,"version",{get:function(){return this._version},enumerable:!0,configurable:!0}),t.prototype.onResume=function(){this.insights.track("mobileapp.opened")},t.prototype.registerEventHandlers=function(){var t=this;this.emitter.on("cordova:resume",function(){t.onResume()}),this.emitter.on("push:notification",function(e){(e.message.app.asleep||e.message.app.closed)&&t.insights.track("mobileapp.opened.push")})},t}();i.Core=n},{}],6:[function(t,e,i){"use strict";var n=t("../promise"),o=new Error("Missing deploy plugin: `ionic-plugin-deploy`"),r=function(){function t(t,e){var i=this;void 0===e&&(e={}),this.options=e,this.channel="production",this.config=t.config,this.emitter=t.emitter,this.logger=t.logger,this.emitter.once("device:ready",function(){i._getPlugin()&&i.plugin.init(i.config.get("app_id"),i.config.getURL("api")),i.emitter.emit("deploy:ready")})}return t.prototype.check=function(){var t=this,e=new n.DeferredPromise;return this.emitter.once("deploy:ready",function(){t._getPlugin()?t.plugin.check(t.config.get("app_id"),t.channel,function(i){i&&"true"===i?(t.logger.info("Ionic Deploy: an update is available"),e.resolve(!0)):(t.logger.info("Ionic Deploy: no updates available"),e.resolve(!1))},function(i){t.logger.error("Ionic Deploy: encountered an error while checking for updates"),e.reject(i)}):e.reject(o)}),e.promise},t.prototype.download=function(t){var e=this;void 0===t&&(t={});var i=new n.DeferredPromise;return this.emitter.once("deploy:ready",function(){e._getPlugin()?e.plugin.download(e.config.get("app_id"),function(n){"true"===n?(e.logger.info("Ionic Deploy: download complete"),i.resolve()):"false"===n?i.reject(new Error("Ionic Deploy: Download has failed: see native logs.")):t.onProgress&&t.onProgress(n)},function(t){i.reject(t)}):i.reject(o)}),i.promise},t.prototype.extract=function(t){var e=this;void 0===t&&(t={});var i=new n.DeferredPromise;return this.emitter.once("deploy:ready",function(){e._getPlugin()?e.plugin.extract(e.config.get("app_id"),function(n){"done"===n?(e.logger.info("Ionic Deploy: extraction complete"),i.resolve()):t.onProgress&&t.onProgress(n)},function(t){i.reject(t)}):i.reject(o)}),i.promise},t.prototype.load=function(){var t=this;this.emitter.once("deploy:ready",function(){t._getPlugin()&&t.plugin.redirect(t.config.get("app_id"))})},t.prototype.info=function(){var t=this,e=new n.DeferredPromise;return this.emitter.once("deploy:ready",function(){t._getPlugin()?t.plugin.info(t.config.get("app_id"),function(t){e.resolve(t)},function(t){e.reject(t)}):e.reject(o)}),e.promise},t.prototype.getSnapshots=function(){var t=this,e=new n.DeferredPromise;return this.emitter.once("deploy:ready",function(){t._getPlugin()?t.plugin.getVersions(t.config.get("app_id"),function(t){e.resolve(t)},function(t){e.reject(t)}):e.reject(o)}),e.promise},t.prototype.deleteSnapshot=function(t){var e=this,i=new n.DeferredPromise;return this.emitter.once("deploy:ready",function(){e._getPlugin()?e.plugin.deleteVersion(e.config.get("app_id"),t,function(t){i.resolve(t)},function(t){i.reject(t)}):i.reject(o)}),i.promise},t.prototype.getMetadata=function(t){var e=this,i=new n.DeferredPromise;return this.emitter.once("deploy:ready",function(){e._getPlugin()?e.plugin.getMetadata(e.config.get("app_id"),t,function(t){i.resolve(t.metadata)},function(t){i.reject(t)}):i.reject(o)}),i.promise},t.prototype._getPlugin=function(){return"undefined"==typeof window.IonicDeploy?void this.logger.warn("Ionic Deploy: Disabled! Deploy plugin is not installed or has not loaded. Have you run `ionic plugin add ionic-plugin-deploy` yet?"):(this.plugin||(this.plugin=window.IonicDeploy),this.plugin)},t}();i.Deploy=r},{"../promise":14}],7:[function(t,e,i){"use strict";var n=function(){function t(t){this.deps=t,this.emitter=this.deps.emitter,this.deviceType=this.determineDeviceType(),this.registerEventHandlers()}return t.prototype.isAndroid=function(){return"android"===this.deviceType},t.prototype.isIOS=function(){return"iphone"===this.deviceType||"ipad"===this.deviceType},t.prototype.isConnectedToNetwork=function(t){if(void 0===t&&(t={}),"undefined"==typeof navigator.connection||"undefined"==typeof navigator.connection.type||"undefined"==typeof Connection)return!t.strictMode;switch(navigator.connection.type){case Connection.ETHERNET:case Connection.WIFI:case Connection.CELL_2G:case Connection.CELL_3G:case Connection.CELL_4G:case Connection.CELL:return!0;default:return!1}},t.prototype.registerEventHandlers=function(){var t=this;"unknown"===this.deviceType?this.emitter.emit("device:ready"):this.emitter.once("cordova:deviceready",function(){t.emitter.emit("device:ready")})},t.prototype.determineDeviceType=function(){var t=navigator.userAgent,e=t.match(/iPad/i);if(e&&"ipad"===e[0].toLowerCase())return"ipad";var i=t.match(/iPhone/i);if(i&&"iphone"===i[0].toLowerCase())return"iphone";var n=t.match(/Android/i);return n&&"android"===n[0].toLowerCase()?"android":"unknown"},t}();i.Device=n},{}],8:[function(t,e,i){"use strict";function n(t,e,i){var n=i.get;i.get=function(){if("undefined"==typeof b[e]){var t=n.apply(this,arguments);b[e]=t}return b[e]},i.set=function(t){}}var o=this&&this.__decorate||function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},r=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=t("./auth"),a=t("./client"),u=t("./config"),c=t("./cordova"),p=t("./core"),h=t("./deploy/deploy"),l=t("./device"),d=t("./events"),f=t("./insights"),g=t("./logger"),y=t("./push/push"),v=t("./storage"),m=t("./user/user"),b={},w=function(){function t(){}return Object.defineProperty(t.prototype,"appStatus",{get:function(){return{asleep:!1,closed:!1}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"config",{get:function(){return new u.Config},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"eventEmitter",{get:function(){return new d.EventEmitter},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"logger",{get:function(){var t=this.config,e={};return"undefined"!=typeof t.settings&&(e=t.settings.logger),new g.Logger(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"localStorageStrategy",{get:function(){return new v.LocalStorageStrategy},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sessionStorageStrategy",{get:function(){return new v.SessionStorageStrategy},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"authTokenContext",{get:function(){var t="auth_"+this.config.get("app_id");return new s.CombinedAuthTokenContext({storage:new v.Storage({strategy:this.localStorageStrategy}),tempStorage:new v.Storage({strategy:this.sessionStorageStrategy})},t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"client",{get:function(){return new a.Client(this.authTokenContext,this.config.getURL("api"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"insights",{get:function(){return new f.Insights({appStatus:this.appStatus,storage:new v.Storage({strategy:this.localStorageStrategy}),config:this.config,client:this.client,logger:this.logger})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"core",{get:function(){return new p.Core({config:this.config,logger:this.logger,emitter:this.eventEmitter,insights:this.insights})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"device",{get:function(){return new l.Device({emitter:this.eventEmitter})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cordova",{get:function(){return new c.Cordova({appStatus:this.appStatus,device:this.device,emitter:this.eventEmitter,logger:this.logger})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"userContext",{get:function(){return new m.UserContext({storage:new v.Storage({strategy:this.localStorageStrategy}),config:this.config})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"singleUserService",{get:function(){return new m.SingleUserService({client:this.client,context:this.userContext})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"authModules",{get:function(){return{basic:new s.BasicAuth({config:this.config,client:this.client}),custom:new s.CustomAuth({config:this.config,client:this.client}),twitter:new s.TwitterAuth({config:this.config,client:this.client}),facebook:new s.FacebookAuth({config:this.config,client:this.client}),github:new s.GithubAuth({config:this.config,client:this.client}),google:new s.GoogleAuth({config:this.config,client:this.client}),instagram:new s.InstagramAuth({config:this.config,client:this.client}),linkedin:new s.LinkedInAuth({config:this.config,client:this.client})}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"auth",{get:function(){return new s.Auth({config:this.config,emitter:this.eventEmitter,authModules:this.authModules,tokenContext:this.authTokenContext,userService:this.singleUserService,storage:new v.Storage({strategy:this.localStorageStrategy})})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"push",{get:function(){var t=this.config,e={};return"undefined"!=typeof t.settings&&(e=t.settings.push),new y.Push({config:t,auth:this.auth,userService:this.singleUserService,device:this.device,client:this.client,emitter:this.eventEmitter,storage:new v.Storage({strategy:this.localStorageStrategy}),logger:this.logger},e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"deploy",{get:function(){return new h.Deploy({config:this.config,emitter:this.eventEmitter,logger:this.logger})},enumerable:!0,configurable:!0}),o([n,r("design:type",Object)],t.prototype,"appStatus",null),o([n,r("design:type",Object)],t.prototype,"config",null),o([n,r("design:type",Object)],t.prototype,"eventEmitter",null),o([n,r("design:type",Object)],t.prototype,"logger",null),o([n,r("design:type",Object)],t.prototype,"localStorageStrategy",null),o([n,r("design:type",Object)],t.prototype,"sessionStorageStrategy",null),o([n,r("design:type",Object)],t.prototype,"authTokenContext",null),o([n,r("design:type",Object)],t.prototype,"client",null),o([n,r("design:type",Object)],t.prototype,"insights",null),o([n,r("design:type",Object)],t.prototype,"core",null),o([n,r("design:type",Object)],t.prototype,"device",null),o([n,r("design:type",Object)],t.prototype,"cordova",null),o([n,r("design:type",Object)],t.prototype,"userContext",null),o([n,r("design:type",Object)],t.prototype,"singleUserService",null),o([n,r("design:type",Object)],t.prototype,"authModules",null),o([n,r("design:type",Object)],t.prototype,"auth",null),o([n,r("design:type",Object)],t.prototype,"push",null),o([n,r("design:type",Object)],t.prototype,"deploy",null),t}();i.Container=w},{"./auth":1,"./client":2,"./config":3,"./cordova":4,"./core":5,"./deploy/deploy":6,"./device":7,"./events":10,"./insights":12,"./logger":13,"./push/push":16,"./storage":17,"./user/user":19}],9:[function(t,e,i){"use strict";var n=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},o=function(t){function e(e){t.call(this,e),this.message=e,this.name="Exception",this.stack=(new Error).stack}return n(e,t),e.prototype.toString=function(){return this.name+": "+this.message},e}(Error);i.Exception=o;var r=function(t){function e(e,i){t.call(this,e),this.message=e,this.details=i,this.name="DetailedError"}return n(e,t),e}(o);i.DetailedError=r},{}],10:[function(t,e,i){"use strict";var n=function(){function t(t,e,i){this.key=t,this.event=e,this.handler=i}return t}();i.EventReceiver=n;var o=function(){function t(){this.n=0,this.eventReceivers={},this.eventsEmitted={}}return t.prototype.on=function(t,e){"undefined"==typeof this.eventReceivers[t]&&(this.eventReceivers[t]={});var i=new n(this.n,t,e);return this.n++,this.eventReceivers[t][i.key]=i,i},t.prototype.off=function(t){if("undefined"==typeof this.eventReceivers[t.event]||"undefined"==typeof this.eventReceivers[t.event][t.key])throw new Error("unknown event receiver");delete this.eventReceivers[t.event][t.key]},t.prototype.once=function(t,e){var i=this;this.emitted(t)?e():this.on(t,function(){i.emitted(t)||e()})},t.prototype.emit=function(t,e){void 0===e&&(e=null),"undefined"==typeof this.eventReceivers[t]&&(this.eventReceivers[t]={}),"undefined"==typeof this.eventsEmitted[t]&&(this.eventsEmitted[t]=0);for(var i in this.eventReceivers[t])this.eventReceivers[t][i].handler(e);this.eventsEmitted[t]+=1},t.prototype.emitted=function(t){return"undefined"==typeof this.eventsEmitted[t]?0:this.eventsEmitted[t]},t}();i.EventEmitter=o},{}],11:[function(t,e,i){"use strict";var n=t("./auth");i.Auth=n.Auth,i.AuthType=n.AuthType,i.BasicAuth=n.BasicAuth,i.CustomAuth=n.CustomAuth,i.FacebookAuth=n.FacebookAuth,i.GithubAuth=n.GithubAuth,i.GoogleAuth=n.GoogleAuth,i.InstagramAuth=n.InstagramAuth,i.LinkedInAuth=n.LinkedInAuth,i.TwitterAuth=n.TwitterAuth;var o=t("./client");i.Client=o.Client;var r=t("./config");i.Config=r.Config;var s=t("./cordova");i.Cordova=s.Cordova;var a=t("./core");i.Core=a.Core;var u=t("./deploy/deploy");i.Deploy=u.Deploy;var c=t("./device");i.Device=c.Device;var p=t("./errors");i.Exception=p.Exception,i.DetailedError=p.DetailedError;var h=t("./di");i.DIContainer=h.Container;var l=t("./events");i.EventEmitter=l.EventEmitter;var d=t("./insights");i.Insights=d.Insights;var f=t("./logger");i.Logger=f.Logger;var g=t("./push/push");i.Push=g.Push;var y=t("./push/message");i.PushMessage=y.PushMessage;var v=t("./storage");i.Storage=v.Storage,i.LocalStorageStrategy=v.LocalStorageStrategy,i.SessionStorageStrategy=v.SessionStorageStrategy;var m=t("./user/user");i.UserContext=m.UserContext,i.User=m.User,i.SingleUserService=m.SingleUserService},{"./auth":1,"./client":2,"./config":3,"./cordova":4,"./core":5,"./deploy/deploy":6,"./device":7,"./di":8,"./errors":9,"./events":10,"./insights":12,"./logger":13,"./push/message":15,"./push/push":16,"./storage":17,"./user/user":19}],12:[function(t,e,i){"use strict";var n=function(){function t(t,e,i){void 0===i&&(i=1),this.appId=t,this.stat=e,this.value=i,this.appId=t,this.stat=e,this.value=i,this.created=new Date}return t.prototype.toJSON=function(){return{app_id:this.appId,stat:this.stat,value:this.value,created:this.created.toISOString()}},t}();i.Stat=n;var o=function(){function t(t,e){var i=this;void 0===e&&(e={intervalSubmit:6e4,intervalActiveCheck:1e3,submitCount:100}),this.options=e,this.app=t.appStatus,this.storage=t.storage,this.config=t.config,this.client=t.client,this.logger=t.logger,this.batch=[],setInterval(function(){i.submit()},this.options.intervalSubmit),setInterval(function(){i.app.closed||i.checkActivity()},this.options.intervalActiveCheck)}return t.prototype.track=function(t,e){void 0===e&&(e=1),this.trackStat(new n(this.config.get("app_id"),t,e))},t.prototype.checkActivity=function(){var t=this.storage.get("insights_session");if(t){var e=new Date(t),i=36e5;e.getTime()+i<(new Date).getTime()&&this.markActive()}else this.markActive()},t.prototype.markActive=function(){this.storage.set("insights_session",(new Date).toISOString()),this.track("mobileapp.active")},t.prototype.trackStat=function(t){this.batch.push(t),this.shouldSubmit()&&this.submit()},t.prototype.shouldSubmit=function(){return this.batch.length>=this.options.submitCount},t.prototype.submit=function(){var t=this;if(0!==this.batch.length){for(var e=[],i=0,n=this.batch;i<n.length;i++){var o=n[i];e.push(o.toJSON())}this.client.post("/insights").send({insights:e}).end(function(e,i){e&&t.logger.error("Ionic Insights: Could not send insights.",e)}),this.batch=[]}},t}();i.Insights=o},{}],13:[function(t,e,i){"use strict";var n=function(){function t(t){void 0===t&&(t={}),this.options=t,this.infofn=console.log.bind(console),this.warnfn=console.warn.bind(console),this.errorfn=console.error.bind(console)}return t.prototype.info=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];this.options.silent||this.infofn.apply(this,[t].concat(e))},t.prototype.warn=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];this.options.silent||this.warnfn.apply(this,[t].concat(e))},t.prototype.error=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];this.errorfn.apply(this,[t].concat(e))},t}();i.Logger=n},{}],14:[function(t,e,i){"use strict";var n=function(){function t(){this.init()}return t.prototype.init=function(){var t=this;this.promise=new Promise(function(e,i){t.resolve=e,t.reject=i})},t}();i.DeferredPromise=n},{}],15:[function(t,e,i){"use strict";var n=function(){function t(){}return t.fromPluginData=function(e){var i=new t;return i.raw=e,i.text=e.message,i.title=e.title,i.count=e.count,i.sound=e.sound,i.image=e.image,i.app={asleep:!e.additionalData.foreground,closed:e.additionalData.coldstart},i.payload=e.additionalData.payload,i},t.prototype.toString=function(){return'<PushMessage ["'+this.title+'"]>'},t}();i.PushMessage=n},{}],16:[function(t,e,i){"use strict";var n=t("../promise"),o=t("./message"),r=function(){function t(t,e){return void 0===e&&(e={}),this.options=e,this.blockRegistration=!1,this.blockUnregister=!1,this.blockSaveToken=!1,this.registered=!1,this.config=t.config,this.auth=t.auth,this.userService=t.userService,this.device=t.device,this.client=t.client,this.emitter=t.emitter,this.storage=t.storage,this.logger=t.logger,this.device.isAndroid()&&!this.options.sender_id?void this.logger.error("Ionic Push: GCM project number not found (http://docs.ionic.io/docs/push-android-setup)"):(e.pluginConfig||(e.pluginConfig={}),this.device.isAndroid()&&(e.pluginConfig.android||(e.pluginConfig.android={}),e.pluginConfig.android.senderID||(e.pluginConfig.android.senderID=this.options.sender_id)),void(this.options=e))}return Object.defineProperty(t.prototype,"token",{get:function(){return this._token||(this._token=this.storage.get("push_token")),this._token},set:function(t){t?this.storage.set("push_token",t):this.storage["delete"]("push_token"),this._token=t},enumerable:!0,configurable:!0}),t.prototype.saveToken=function(t,e){var i=this;void 0===e&&(e={});var o=new n.DeferredPromise,r={token:t.token,app_id:this.config.get("app_id")};if(!e.ignore_user){var s=this.userService.current();this.auth.isAuthenticated()&&(r.user_id=s.id)}return this.blockSaveToken?o.reject(new Error("A token save operation is already in progress.")):this.client.post("/push/tokens").send(r).end(function(e,n){e?(i.blockSaveToken=!1,i.logger.error("Ionic Push:",e),o.reject(e)):(i.blockSaveToken=!1,i.logger.info("Ionic Push: saved push token: "+t.token),r.user_id&&i.logger.info("Ionic Push: added push token to user: "+r.user_id),t.id=n.body.data.id,t.type=n.body.data.type,t.saved=!0,o.resolve(t))}),o.promise},t.prototype.register=function(){var t=this,e=new n.DeferredPromise;return this.blockRegistration?e.reject(new Error("Another registration is already in progress.")):(this.blockRegistration=!0,this.emitter.once("device:ready",function(){var i=t._getPushPlugin();i?(t.plugin=i.init(t.options.pluginConfig),t.plugin.on("registration",function(i){t.blockRegistration=!1,t.token={token:i.registrationId},t.token.registered=!0,e.resolve(t.token)}),t._callbackRegistration(),t.registered=!0):e.reject(new Error("Push plugin not found! See logs."))})),e.promise},t.prototype.unregister=function(){var t=this,e=new n.DeferredPromise;if(this.blockUnregister)e.reject(new Error("An unregister operation is already in progress."));else{var i=this.token;if(i){var o={token:i.token,app_id:this.config.get("app_id")};this.plugin&&this.plugin.unregister(function(){},function(){}),this.client.post("/push/tokens/invalidate").send(o).end(function(n,o){t.blockUnregister=!1,n?(t.logger.error("Ionic Push:",n),e.reject(n)):(t.logger.info("Ionic Push: unregistered push token: "+i.token),t.token=null,e.resolve())})}else e.resolve()}return this.blockUnregister=!0,e.promise},t.prototype._callbackRegistration=function(){var t=this;this.plugin.on("registration",function(e){t.token={token:e.registrationId},t.options.debug&&t.logger.info("Ionic Push (debug): device token registered: "+t.token),t.emitter.emit("push:register",t.token)}),this.plugin.on("notification",function(e){var i=o.PushMessage.fromPluginData(e);t.options.debug&&t.logger.info("Ionic Push (debug): notification received: "+i),t.emitter.emit("push:notification",{message:i,raw:e})}),this.plugin.on("error",function(e){t.options.debug&&(t.logger.error("Ionic Push (debug): unexpected error occured."),t.logger.error("Ionic Push:",e)),t.emitter.emit("push:error",{err:e})})},t.prototype._getPushPlugin=function(){var t=window.PushNotification;return t||(this.device.isIOS()||this.device.isAndroid()?this.logger.error("Ionic Push: PushNotification plugin is required. Have you run `ionic plugin add phonegap-plugin-push` ?"):this.logger.warn("Ionic Push: Disabled! Native push notifications will not work in a browser. Run your app on an actual device to use push.")),t},t}();i.Push=r},{"../promise":14,"./message":15}],17:[function(t,e,i){"use strict";var n=function(){function t(){}return t.prototype.get=function(t){return localStorage.getItem(t)},t.prototype.set=function(t,e){return localStorage.setItem(t,e)},t.prototype["delete"]=function(t){return localStorage.removeItem(t)},t}();i.LocalStorageStrategy=n;var o=function(){function t(){}
return t.prototype.get=function(t){return sessionStorage.getItem(t)},t.prototype.set=function(t,e){return sessionStorage.setItem(t,e)},t.prototype["delete"]=function(t){return sessionStorage.removeItem(t)},t}();i.SessionStorageStrategy=o;var r=function(){function t(t,e){void 0===e&&(e={prefix:"ionic",cache:!0}),this.options=e,this.strategy=t.strategy,this.storageCache={}}return t.prototype.set=function(t,e){t=this.standardizeKey(t);var i=JSON.stringify(e);this.strategy.set(t,i),this.options.cache&&(this.storageCache[t]=e)},t.prototype["delete"]=function(t){t=this.standardizeKey(t),this.strategy["delete"](t),this.options.cache&&delete this.storageCache[t]},t.prototype.get=function(t){if(t=this.standardizeKey(t),this.options.cache){var e=this.storageCache[t];if(e)return e}var i=this.strategy.get(t);if(!i)return null;try{var n=JSON.parse(i);return this.options.cache&&(this.storageCache[t]=n),n}catch(o){return null}},t.prototype.standardizeKey=function(t){return this.options.prefix+"_"+t},t}();i.Storage=r},{}],18:[function(t,e,i){"use strict";var n={},o=function(){function t(t){this.data={},this.setProperties(t)}return t.prototype.setProperties=function(t){if(t instanceof Object)for(var e in t)this.data[e]=t[e]},t.prototype.toJSON=function(){var t=this.data;return{__Ionic_DataTypeSchema:t.name,value:t.value}},t.prototype.isValid=function(){return!(!this.data.name||!this.data.value)},t}();i.DataTypeSchema=o;var r=function(){function t(){}return t.get=function(t,e){return!!n[t]&&new n[t](e)},t.getMapping=function(){return n},Object.defineProperty(t,"Schema",{get:function(){return o},enumerable:!0,configurable:!0}),t.register=function(t,e){n[t]=e},t}();i.DataType=r;var s=function(){function t(t){if(this.data=[],t instanceof Array)for(var e in t)this.push(t[e])}return t.prototype.toJSON=function(){var t=this.data,e=new o({name:"UniqueArray",value:t});return e.toJSON()},t.fromStorage=function(e){return new t(e)},t.prototype.push=function(t){this.data.indexOf(t)===-1&&this.data.push(t)},t.prototype.pull=function(t){var e=this.data.indexOf(t);this.data.splice(e,1)},t}();i.UniqueArray=s,r.register("UniqueArray",s)},{}],19:[function(t,e,i){"use strict";var n=t("../promise"),o=t("./data-types"),r=function(){function t(t){this.config=t.config,this.storage=t.storage}return Object.defineProperty(t.prototype,"label",{get:function(){return"user_"+this.config.get("app_id")},enumerable:!0,configurable:!0}),t.prototype.unstore=function(){this.storage["delete"](this.label)},t.prototype.store=function(t){this.storage.set(this.label,t.serializeForStorage())},t.prototype.load=function(t){var e=this.storage.get(this.label);if(e)return t.id=e.id,t.data=new s(e.data),t.details=e.details||{},t.social=e.social||{},t.fresh=e.fresh,t},t}();i.UserContext=r;var s=function(){function t(t){void 0===t&&(t={}),this.data={},"object"==typeof t&&(this.data=t,this.deserializeDataTypes())}return t.prototype.get=function(t,e){return this.data.hasOwnProperty(t)?this.data[t]:0===e||e===!1?e:e||null},t.prototype.set=function(t,e){this.data[t]=e},t.prototype.unset=function(t){delete this.data[t]},t.prototype.deserializeDataTypes=function(){if(this.data)for(var t in this.data)if(this.data[t]&&"object"==typeof this.data[t]&&this.data[t].__Ionic_DataTypeSchema){var e=this.data[t].__Ionic_DataTypeSchema,i=o.DataType.getMapping();i[e]&&(this.data[t]=i[e].fromStorage(this.data[t].value))}},t}();i.UserData=s;var a=function(){function t(t){this.details={},this.social={},this.service=t.service,this.fresh=!0,this._unset={},this.data=new s}return t.prototype.isAnonymous=function(){return!this.id},t.prototype.get=function(t,e){return this.data.get(t,e)},t.prototype.set=function(t,e){return delete this._unset[t],this.data.set(t,e)},t.prototype.unset=function(t){return this._unset[t]=!0,this.data.unset(t)},t.prototype.clear=function(){this.id=null,this.data=new s,this.details={},this.fresh=!0},t.prototype.save=function(){return this._unset={},this.service.save()},t.prototype["delete"]=function(){return this.service["delete"]()},t.prototype.load=function(t){return this.service.load(t)},t.prototype.store=function(){this.service.store()},t.prototype.unstore=function(){this.service.unstore()},t.prototype.serializeForAPI=function(){return{email:this.details.email,password:this.details.password,username:this.details.username,image:this.details.image,name:this.details.name,custom:this.data.data}},t.prototype.serializeForStorage=function(){return{id:this.id,data:this.data.data,details:this.details,fresh:this.fresh,social:this.social}},t.prototype.toString=function(){return"<User ["+(this.isAnonymous()?"anonymous":this.id)+"]>"},t}();i.User=a;var u=function(){function t(t,e){void 0===e&&(e={}),this.config=e,this.client=t.client,this.context=t.context}return t.prototype.current=function(){return this.user||(this.user=this.context.load(new a({service:this}))),this.user||(this.user=new a({service:this})),this.user},t.prototype.store=function(){this.context.store(this.current())},t.prototype.unstore=function(){this.context.unstore()},t.prototype.load=function(t){void 0===t&&(t="self");var e=new n.DeferredPromise,i=this.current();return this.client.get("/users/"+t).end(function(t,n){t?e.reject(t):(i.id=n.body.data.uuid,i.data=new s(n.body.data.custom),i.details=n.body.data.details,i.fresh=!1,i.social=n.body.data.social,e.resolve())}),e.promise},t.prototype["delete"]=function(){var t=new n.DeferredPromise;return this.user.isAnonymous()?t.reject(new Error("User is anonymous and cannot be deleted from the API.")):(this.unstore(),this.client["delete"]("/users/"+this.user.id).end(function(e,i){e?t.reject(e):t.resolve()})),t.promise},t.prototype.save=function(){var t=this,e=new n.DeferredPromise;return this.store(),this.user.isAnonymous()?e.reject(new Error("User is anonymous and cannot be updated in the API. Use load(<id>) or signup a user using auth.")):this.client.patch("/users/"+this.user.id).send(this.user.serializeForAPI()).end(function(i,n){i?e.reject(i):(t.user.fresh=!1,e.resolve())}),e.promise},t}();i.SingleUserService=u},{"../promise":14,"./data-types":18}],20:[function(t,e,i){function n(t){if(t)return o(t)}function o(t){for(var e in n.prototype)t[e]=n.prototype[e];return t}"undefined"!=typeof e&&(e.exports=n),n.prototype.on=n.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},n.prototype.once=function(t,e){function i(){this.off(t,i),e.apply(this,arguments)}return i.fn=e,this.on(t,i),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var i=this._callbacks["$"+t];if(!i)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var n,o=0;o<i.length;o++)if(n=i[o],n===e||n.fn===e){i.splice(o,1);break}return this},n.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),i=this._callbacks["$"+t];if(i){i=i.slice(0);for(var n=0,o=i.length;n<o;++n)i[n].apply(this,e)}return this},n.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},n.prototype.hasListeners=function(t){return!!this.listeners(t).length}},{}],21:[function(t,e,i){e.exports=function(t,e,i){for(var n=0,o=t.length,r=3==arguments.length?i:t[n++];n<o;)r=e.call(null,r,t[n],++n,t);return r}},{}],22:[function(t,e,i){function n(){}function o(t){var e={}.toString.call(t);switch(e){case"[object File]":case"[object Blob]":case"[object FormData]":return!0;default:return!1}}function r(t){if(!b(t))return t;var e=[];for(var i in t)null!=t[i]&&s(e,i,t[i]);return e.join("&")}function s(t,e,i){return Array.isArray(i)?i.forEach(function(i){s(t,e,i)}):void t.push(encodeURIComponent(e)+"="+encodeURIComponent(i))}function a(t){for(var e,i,n={},o=t.split("&"),r=0,s=o.length;r<s;++r)i=o[r],e=i.split("="),n[decodeURIComponent(e[0])]=decodeURIComponent(e[1]);return n}function u(t){var e,i,n,o,r=t.split(/\r?\n/),s={};r.pop();for(var a=0,u=r.length;a<u;++a)i=r[a],e=i.indexOf(":"),n=i.slice(0,e).toLowerCase(),o=C(i.slice(e+1)),s[n]=o;return s}function c(t){return/[\/+]json\b/.test(t)}function p(t){return t.split(/ *; */).shift()}function h(t){return v(t.split(/ *; */),function(t,e){var i=e.split(/ *= */),n=i.shift(),o=i.shift();return n&&o&&(t[n]=o),t},{})}function l(t,e){e=e||{},this.req=t,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||"undefined"==typeof this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText,this.setStatusProperties(this.xhr.status),this.header=this.headers=u(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this.setHeaderProperties(this.header),this.body="HEAD"!=this.req.method?this.parseBody(this.text?this.text:this.xhr.response):null}function d(t,e){var i=this;this._query=this._query||[],this.method=t,this.url=e,this.header={},this._header={},this.on("end",function(){var t=null,e=null;try{e=new l(i)}catch(n){return t=new Error("Parser is unable to parse the response"),t.parse=!0,t.original=n,t.rawResponse=i.xhr&&i.xhr.responseText?i.xhr.responseText:null,t.statusCode=i.xhr&&i.xhr.status?i.xhr.status:null,i.callback(t)}if(i.emit("response",e),t)return i.callback(t,e);if(e.status>=200&&e.status<300)return i.callback(t,e);var o=new Error(e.statusText||"Unsuccessful HTTP response");o.original=t,o.response=e,o.status=e.status,i.callback(o,e)})}function f(t,e){var i=w("DELETE",t);return e&&i.end(e),i}var g,y=t("emitter"),v=t("reduce"),m=t("./request-base"),b=t("./is-object");g="undefined"!=typeof window?window:"undefined"!=typeof self?self:this;var w=e.exports=t("./request").bind(null,d);w.getXHR=function(){if(!(!g.XMLHttpRequest||g.location&&"file:"==g.location.protocol&&g.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(t){}return!1};var C="".trim?function(t){return t.trim()}:function(t){return t.replace(/(^\s*|\s*$)/g,"")};w.serializeObject=r,w.parseString=a,w.types={html:"text/html",json:"application/json",xml:"application/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},w.serialize={"application/x-www-form-urlencoded":r,"application/json":JSON.stringify},w.parse={"application/x-www-form-urlencoded":a,"application/json":JSON.parse},l.prototype.get=function(t){return this.header[t.toLowerCase()]},l.prototype.setHeaderProperties=function(t){var e=this.header["content-type"]||"";this.type=p(e);var i=h(e);for(var n in i)this[n]=i[n]},l.prototype.parseBody=function(t){var e=w.parse[this.type];return!e&&c(this.type)&&(e=w.parse["application/json"]),e&&t&&(t.length||t instanceof Object)?e(t):null},l.prototype.setStatusProperties=function(t){1223===t&&(t=204);var e=t/100|0;this.status=this.statusCode=t,this.statusType=e,this.info=1==e,this.ok=2==e,this.clientError=4==e,this.serverError=5==e,this.error=(4==e||5==e)&&this.toError(),this.accepted=202==t,this.noContent=204==t,this.badRequest=400==t,this.unauthorized=401==t,this.notAcceptable=406==t,this.notFound=404==t,this.forbidden=403==t},l.prototype.toError=function(){var t=this.req,e=t.method,i=t.url,n="cannot "+e+" "+i+" ("+this.status+")",o=new Error(n);return o.status=this.status,o.method=e,o.url=i,o},w.Response=l,y(d.prototype);for(var k in m)d.prototype[k]=m[k];d.prototype.abort=function(){if(!this.aborted)return this.aborted=!0,this.xhr&&this.xhr.abort(),this.clearTimeout(),this.emit("abort"),this},d.prototype.type=function(t){return this.set("Content-Type",w.types[t]||t),this},d.prototype.responseType=function(t){return this._responseType=t,this},d.prototype.accept=function(t){return this.set("Accept",w.types[t]||t),this},d.prototype.auth=function(t,e,i){switch(i||(i={type:"basic"}),i.type){case"basic":var n=btoa(t+":"+e);this.set("Authorization","Basic "+n);break;case"auto":this.username=t,this.password=e}return this},d.prototype.query=function(t){return"string"!=typeof t&&(t=r(t)),t&&this._query.push(t),this},d.prototype.attach=function(t,e,i){return this._getFormData().append(t,e,i||e.name),this},d.prototype._getFormData=function(){return this._formData||(this._formData=new g.FormData),this._formData},d.prototype.send=function(t){var e=b(t),i=this._header["content-type"];if(e&&b(this._data))for(var n in t)this._data[n]=t[n];else"string"==typeof t?(i||this.type("form"),i=this._header["content-type"],"application/x-www-form-urlencoded"==i?this._data=this._data?this._data+"&"+t:t:this._data=(this._data||"")+t):this._data=t;return!e||o(t)?this:(i||this.type("json"),this)},l.prototype.parse=function(t){return g.console&&console.warn("Client-side parse() method has been renamed to serialize(). This method is not compatible with superagent v2.0"),this.serialize(t),this},l.prototype.serialize=function(t){return this._parser=t,this},d.prototype.callback=function(t,e){var i=this._callback;this.clearTimeout(),i(t,e)},d.prototype.crossDomainError=function(){var t=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");t.crossDomain=!0,t.status=this.status,t.method=this.method,t.url=this.url,this.callback(t)},d.prototype.timeoutError=function(){var t=this._timeout,e=new Error("timeout of "+t+"ms exceeded");e.timeout=t,this.callback(e)},d.prototype.withCredentials=function(){return this._withCredentials=!0,this},d.prototype.end=function(t){var e=this,i=this.xhr=w.getXHR(),r=this._query.join("&"),s=this._timeout,a=this._formData||this._data;this._callback=t||n,i.onreadystatechange=function(){if(4==i.readyState){var t;try{t=i.status}catch(n){t=0}if(0==t){if(e.timedout)return e.timeoutError();if(e.aborted)return;return e.crossDomainError()}e.emit("end")}};var u=function(t){t.total>0&&(t.percent=t.loaded/t.total*100),t.direction="download",e.emit("progress",t)};this.hasListeners("progress")&&(i.onprogress=u);try{i.upload&&this.hasListeners("progress")&&(i.upload.onprogress=u)}catch(p){}if(s&&!this._timer&&(this._timer=setTimeout(function(){e.timedout=!0,e.abort()},s)),r&&(r=w.serializeObject(r),this.url+=~this.url.indexOf("?")?"&"+r:"?"+r),this.username&&this.password?i.open(this.method,this.url,!0,this.username,this.password):i.open(this.method,this.url,!0),this._withCredentials&&(i.withCredentials=!0),"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof a&&!o(a)){var h=this._header["content-type"],l=this._parser||w.serialize[h?h.split(";")[0]:""];!l&&c(h)&&(l=w.serialize["application/json"]),l&&(a=l(a))}for(var d in this.header)null!=this.header[d]&&i.setRequestHeader(d,this.header[d]);return this._responseType&&(i.responseType=this._responseType),this.emit("request",this),i.send("undefined"!=typeof a?a:null),this},w.Request=d,w.get=function(t,e,i){var n=w("GET",t);return"function"==typeof e&&(i=e,e=null),e&&n.query(e),i&&n.end(i),n},w.head=function(t,e,i){var n=w("HEAD",t);return"function"==typeof e&&(i=e,e=null),e&&n.send(e),i&&n.end(i),n},w.del=f,w["delete"]=f,w.patch=function(t,e,i){var n=w("PATCH",t);return"function"==typeof e&&(i=e,e=null),e&&n.send(e),i&&n.end(i),n},w.post=function(t,e,i){var n=w("POST",t);return"function"==typeof e&&(i=e,e=null),e&&n.send(e),i&&n.end(i),n},w.put=function(t,e,i){var n=w("PUT",t);return"function"==typeof e&&(i=e,e=null),e&&n.send(e),i&&n.end(i),n}},{"./is-object":23,"./request":25,"./request-base":24,emitter:20,reduce:21}],23:[function(t,e,i){function n(t){return null!=t&&"object"==typeof t}e.exports=n},{}],24:[function(t,e,i){var n=t("./is-object");i.clearTimeout=function(){return this._timeout=0,clearTimeout(this._timer),this},i.parse=function(t){return this._parser=t,this},i.timeout=function(t){return this._timeout=t,this},i.then=function(t,e){return this.end(function(i,n){i?e(i):t(n)})},i.use=function(t){return t(this),this},i.get=function(t){return this._header[t.toLowerCase()]},i.getHeader=i.get,i.set=function(t,e){if(n(t)){for(var i in t)this.set(i,t[i]);return this}return this._header[t.toLowerCase()]=e,this.header[t]=e,this},i.unset=function(t){return delete this._header[t.toLowerCase()],delete this.header[t],this},i.field=function(t,e){return this._getFormData().append(t,e),this}},{"./is-object":23}],25:[function(t,e,i){function n(t,e,i){return"function"==typeof i?new t("GET",e).end(i):2==arguments.length?new t("GET",e):new t(e,i)}e.exports=n},{}],26:[function(t,e,i){"object"==typeof angular&&angular.module&&(angular.element(document).ready(function(){Ionic.core.init(),Ionic.cordova.bootstrap()}),angular.module("ionic.cloud",[]).provider("$ionicCloudConfig",function(){var t=Ionic.config;this.register=function(e){t.register(e)},this.$get=function(){return t}}).provider("$ionicCloud",["$ionicCloudConfigProvider",function(t){this.init=function(e){t.register(e)},this.$get=[function(){return Ionic.core}]}]).factory("$ionicCloudClient",[function(){return Ionic.client}]).factory("$ionicUser",[function(){return Ionic.singleUserService.current()}]).factory("$ionicAuth",[function(){return Ionic.auth}]).factory("$ionicPush",[function(){return Ionic.push}]).factory("$ionicDeploy",[function(){return Ionic.deploy}]).run(["$window","$q","$rootScope",function(t,e,i){if("undefined"==typeof t.Promise)t.Promise=e;else{var n=Ionic.Cloud.DeferredPromise.prototype.init;Ionic.Cloud.DeferredPromise.prototype.init=function(){n.apply(this,arguments),this.promise=e.when(this.promise)}}var o=Ionic.Cloud.EventEmitter.prototype.emit;Ionic.Cloud.EventEmitter.prototype.emit=function(t,e){return i.$broadcast("cloud:"+t,e),o.apply(this,arguments)}}]))},{}],27:[function(t,e,i){var n=t("./../dist/es5/core").Core,o=t("./../dist/es5/user/data-types").DataType,r=t("./../dist/es5/deploy/deploy").Deploy,s=t("./../dist/es5/events").EventEmitter,a=t("./../dist/es5/logger").Logger,u=t("./../dist/es5/push/push").Push,c=t("./../dist/es5/push/message").PushMessage,p=t("./../dist/es5/auth"),h=t("./../dist/es5/client"),l=t("./../dist/es5/config"),d=t("./../dist/es5/cordova"),f=t("./../dist/es5/device"),g=t("./../dist/es5/di"),y=t("./../dist/es5/promise"),v=t("./../dist/es5/storage"),m=t("./../dist/es5/user/user");window.Ionic=new g.Container,Ionic.Core=n,Ionic.User=m.User,Ionic.Auth=p.Auth,Ionic.Deploy=r,Ionic.Push=u,Ionic.PushMessage=c,Ionic.DataType=o,Ionic.DataTypes=o.getMapping(),Ionic.Cloud={},Ionic.Cloud.AuthType=p.AuthType,Ionic.Cloud.AuthTypes={},Ionic.Cloud.AuthTypes.BasicAuth=p.BasicAuth,Ionic.Cloud.AuthTypes.CustomAuth=p.CustomAuth,Ionic.Cloud.AuthTypes.TwitterAuth=p.TwitterAuth,Ionic.Cloud.AuthTypes.FacebookAuth=p.FacebookAuth,Ionic.Cloud.AuthTypes.GithubAuth=p.GithubAuth,Ionic.Cloud.AuthTypes.GoogleAuth=p.GoogleAuth,Ionic.Cloud.AuthTypes.InstagramAuth=p.InstagramAuth,Ionic.Cloud.AuthTypes.LinkedInAuth=p.LinkedInAuth,Ionic.Cloud.Cordova=d.Cordova,Ionic.Cloud.Client=h.Client,Ionic.Cloud.Device=f.Device,Ionic.Cloud.EventEmitter=s,Ionic.Cloud.Logger=a,Ionic.Cloud.DeferredPromise=y.DeferredPromise,Ionic.Cloud.Storage=v.Storage,Ionic.Cloud.UserContext=m.UserContext,Ionic.Cloud.SingleUserService=m.SingleUserService,Ionic.Cloud.AuthTokenContext=p.AuthTokenContext,Ionic.Cloud.CombinedAuthTokenContext=p.CombinedAuthTokenContext,Ionic.Cloud.LocalStorageStrategy=v.LocalStorageStrategy,Ionic.Cloud.SessionStorageStrategy=v.SessionStorageStrategy,Ionic.Cloud.Config=l.Config},{"./../dist/es5/auth":1,"./../dist/es5/client":2,"./../dist/es5/config":3,"./../dist/es5/cordova":4,"./../dist/es5/core":5,"./../dist/es5/deploy/deploy":6,"./../dist/es5/device":7,"./../dist/es5/di":8,"./../dist/es5/events":10,"./../dist/es5/logger":13,"./../dist/es5/promise":14,"./../dist/es5/push/message":15,"./../dist/es5/push/push":16,"./../dist/es5/storage":17,"./../dist/es5/user/data-types":18,"./../dist/es5/user/user":19}]},{},[27,26,11]);