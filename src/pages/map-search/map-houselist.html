<ion-header>

  <ion-toolbar>
    <ion-buttons left>
      <button ion-button icon-only (click)="close()">
      <ion-icon outline name="arrow-back" ></ion-icon>
    </button>
    </ion-buttons>
    <ion-title>房源列表</ion-title>
    <ion-buttons end>
      <button ion-button icon-only (click)="toggleView()">
          <ion-icon [name]="viewType"></ion-icon>
      </button>
    </ion-buttons>

  </ion-toolbar>
</ion-header>


<ion-content>



  <ion-list *ngIf="isList" class="houselist-search">
    <ion-item-sliding *ngFor="let house of currentHouseList">
      <ion-item tappable class="house_card" (click)="gotoHouseDetail(house.MLS)">
        <ion-thumbnail item-left>
          <img [src]="imgHost + house.CoverImg" />
        </ion-thumbnail>


        <h2>
          <ion-badge>{{mapleConf.getListDays(house.ListDate)}}</ion-badge>{{house.Address}}</h2>

        <p>
          <ion-badge>{{mapleConf.getPriceTxt(house.SaleLease,house.Price)}}</ion-badge>{{house.HouseType}}:{{house.Beds}}卧{{house.Baths}}卫{{house.Kitchen}}厨
        </p>
        <p>{{house.MLS}} {{house.MunicipalityName}},{{house.ProvinceCname}}</p>

      </ion-item>

      <ion-item-options>
        <button clear (click)="addFav(house.MLS,'houseFav')">
        <ion-icon name="heart"></ion-icon>
        收藏
      </button>

        <button clear (click)="addFav(house.MLS,'routeFav')">
        <ion-icon name="navigate"></ion-icon>
        看房
      </button>
        <button clear (click)="mapSearch(house.GeocodeLat,house.GeocodeLng)">
        <ion-icon name="locate"></ion-icon>
        附近
      </button>
        <button clear (click)="mapleConf.mapDirection(house.GeocodeLat,house.GeocodeLng)">
        <ion-icon name="locate"></ion-icon>
        导航
      </button>
      </ion-item-options>
    </ion-item-sliding>

  </ion-list>




<div *ngIf="!isList">


  <ion-card  class="house_card" *ngFor="let house of currentHouseList">
   
   
    <img tappable  [src]="imgHost + house.CoverImg" (click)="gotoHouseDetail(house.MLS)" />
     <ion-item>
      <h2>MLS:{{house.MLS}}</h2>
      <ion-badge item-right>{{mapleConf.getPriceTxt(house.SaleLease,house.Price)}}</ion-badge>
      <p>{{house.Address}},{{house.MunicipalityName}}</p>
      <p> {{house.HouseType}} {{house.Beds}}卧{{house.Baths}}卫{{house.Kitchen}}厨</p>
     
    </ion-item>

    <ion-row>
      <ion-col>
        <button primary clear small (click)="userData.favWrapper(house.MLS,'houseFav')" *ngIf="!fav">
         <ion-icon name="heart" active='false'></ion-icon> <div>收藏</div>
        </button>
        <button primary clear small (click)="remove(house.MLS)" *ngIf="fav">
          <ion-icon name="trash"></ion-icon><div>删除</div>
        </button>
       
      </ion-col>
      <ion-col>
        <button primary clear small (click)="mapleConf.mapDirection(house.GeocodeLat,house.GeocodeLng)">
          <ion-icon name="navigate"></ion-icon><div>导航</div>
        </button>
      </ion-col>
      <ion-col center text-center>
        <ion-note>
          {{mapleConf.getListDays(house.ListDate)}}
        </ion-note>
      </ion-col>
    </ion-row>

  </ion-card>

</div>


</ion-content>