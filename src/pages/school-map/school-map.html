<!--
  Generated template for the MapSearchPage page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
<ion-navbar class="school-map hide-border">

 

 <ion-buttons left>
   <button  (click)="openModal(selectSchool)">
        <ion-icon ios="ios-options-outline" md="md-options"></ion-icon>
      </button>
  </ion-buttons>    
   <ion-searchbar hideCancelButton [(ngModel)]="searchQuery"  (ionInput)="getItems($event)"
        placeholder="城市/学校"></ion-searchbar>
  <ion-buttons end>
    <button  (click)="setCenter(true)">
        <ion-icon ios="ios-locate-outline" md="md-locate"></ion-icon>
    </button>
   </ion-buttons>


</ion-navbar>
</ion-header>

<ion-content class="school-map">
  <div class="search_list" *ngIf="currentDiv == 'schoolList'">
    <ion-item padding *ngFor="let item of cityItems" (click)="itemTapped($event, item,1)">
      <button light clear> <ion-icon primary padding-right name="search"></ion-icon><span padding-left>{{ item.value }}</span></button>
      <ion-badge item-right>城市</ion-badge>
    </ion-item>
    <ion-item padding *ngFor="let item of schoolItems" (click)="itemTapped($event, item,2)">
      <button light clear><ion-icon primary padding-right name="search"></ion-icon><span padding-left>{{ item.school }}</span></button>
      <ion-badge item-right>排名:{{item.paiming}}</ion-badge>
    </ion-item>

  </div>

<!--  
	<div #schoolCon id="schoolCon">
		<p>Please connect to the Internet...</p>
	</div>-->

  <div #schoolmap id="schoolmap"></div>


</ion-content>
<ion-footer>
<!--<div *ngIf="currentDiv == 'listButton'" style="z-index:100;opacity:0.8;">-->
  <div *ngIf="currentDiv == 'listButton'" style="opacity:0.8;">
  <button *ngIf="currentDiv == 'listButton'" fab fab-bottom fab-center (click)="openSchoolList()">
    <ion-icon name="list" is-active="false"></ion-icon>
  </button>
</div>
</ion-footer>