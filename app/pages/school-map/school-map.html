<!--
  Generated template for the MapSearchPage page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-navbar *navbar class="school-map hide-border">

  <!--<ion-row center>
    <ion-col width-10 no-padding>
      <button menuToggle>
        <ion-icon name="menu"></ion-icon>
      </button>
    </ion-col>
    <ion-col width-67 no-padding>
      <ion-searchbar hideCancelButton [(ngModel)]="searchQuery" (ionFocus)="currentDiv='searchlist'" (ionInput)="getItems($event)"
        placeholder="城市/学校"></ion-searchbar>
    </ion-col>
    <ion-col width-10 no-padding>
      <button class="bar-button-default" (click)="openModal(selectSchool)">
        <ion-icon ios="ios-options-outline" md="md-options"></ion-icon>
      </button>
    </ion-col>
    <ion-col width-10 no-padding>
      <button class="bar-button-default" (click)="setCenter()">
        <ion-icon ios="ios-locate-outline" md="md-locate"></ion-icon>
      </button>
    </ion-col>
  </ion-row>-->

 <ion-buttons start>
    <button menuToggle>
        <ion-icon name="menu"></ion-icon>
      </button>
  </ion-buttons>    
   <ion-searchbar hideCancelButton [(ngModel)]="searchQuery" (ionFocus)="currentDiv='searchlist'" (ionInput)="getItems($event)"
        placeholder="城市/学校"></ion-searchbar>
   <ion-buttons end>
    <button class="bar-button-default" (click)="openModal(selectSchool)">
        <ion-icon ios="ios-options-outline" md="md-options"></ion-icon>
      </button>
   </ion-buttons>
   <ion-buttons end>
    <button class="bar-button-default" (click)="setCenter()">
        <ion-icon ios="ios-locate-outline" md="md-locate"></ion-icon>
    </button>
   </ion-buttons>


</ion-navbar>

<ion-content class="school-map">
  <div class="search_list" *ngIf="currentDiv == 'searchlist'">
    <ion-item padding *ngFor="let item of cityItems" (click)="itemTapped($event, item,1)">
      <button light clear> <ion-icon primary padding-right name="search"></ion-icon><span padding-left>{{ item.value }}</span></button>
      <ion-badge item-right>城市</ion-badge>
    </ion-item>
    <ion-item padding *ngFor="let item of schoolItems" (click)="itemTapped($event, item,2)">
      <button light clear><ion-icon primary padding-right name="search"></ion-icon><span padding-left>{{ item.school }}</span></button>
      <ion-badge item-right>排名:{{item.paiming}}</ion-badge>
    </ion-item>

  </div>




  <div id="schoolmap"></div>


</ion-content>

<div *ngIf="currentDiv == 'listButton'" style="z-index:100;opacity:0.8;">
  <button fab fab-bottom fab-center (click)="openSchoolList()">
    <ion-icon name="list" is-active="false"></ion-icon>
  </button>
</div>